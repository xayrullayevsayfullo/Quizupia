<!DOCTYPE html>
<html lang="uz">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>O‚Äòzbekiston Mustaqilligi Testi</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      background-color: #2563eb;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      font-weight: 700;
      padding: 10px;
    }
    h1 { 
      padding-bottom: 15px; 
      color: white; 
      font-size: 1.5rem;
      text-align: center;
    }
    .questions section {
      padding: 20px;
      margin-top: 40px;
      border-radius: 12px;
      text-align: center;
      width: 100%;
      max-width: 600px;
      color: white;
    }
    .questions img {
      width: 500px;
      height: 300px;
      object-fit: cover;
      border-radius: 10px;
      margin-bottom: 1rem;
    }
    .answers {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
      margin-bottom: 10px;
    }
    .answers button {
      padding: 0.8rem 1rem;
      border-radius: 8px;
      background-color: white;
      color: #2563eb;
      font-weight: 600;
      cursor: pointer;
      border: none;
      transition: all 0.2s ease;
      font-size: 13px;
      width: 100%;
    }
    .answers button:hover {
      background-color: rgba(255,255,255,0.877);
    }
  </style>
</head>
<body class="questions">
  <div class="absolute top-4 right-4">
    <select id="languageSelect" class="px-3 py-2 rounded-md text-sm font-bold">
      <option value="uz">O‚Äòzbek</option>
      <option value="en">English</option>
    </select>
  </div>

  <div id="quiz-container"></div>

  <script>
   // ------------------------
// 1. Savollar (50 UZ, 50 EN)
// ------------------------

// 50 ta O'zbek savol (namuna, siz o'zingizning to'liq 50 ta savolni shu tarzda qo'shasiz)
const questionsUZ = [
  { question: "Mustaqillikning ilk yillarida ta‚Äôlim tizimida eng muhim vazifa nima edi?", answers: ["Yangi dasturlar tuzish", "Ta‚Äôlimni isloh qilish", "O‚Äòqituvchilarni qisqartirish", "Xususiy maktablarni yopish"], correct: 1 },
  { question: "Ta‚Äôlim sohasidagi islohotlar qaysi hujjat asosida boshlandi?", answers: ["Konstitutsiya", "Ta‚Äôlim to‚Äòg‚Äòrisidagi qonun", "Milliy dastur", "Farmon"], correct: 2 },
  { question: "‚ÄúKadrlar tayyorlash milliy dasturi‚Äù qachon qabul qilingan?", answers: ["1995", "1997", "1998", "2000"], correct: 1 },
  { question: "‚ÄúTa‚Äôlim to‚Äòg‚Äòrisida‚Äùgi qonun qachon qabul qilingan?", answers: ["1992", "1994", "1997", "1999"], correct: 2 },
  { question: "Kadrlar tayyorlash milliy dasturining maqsadi nima?", answers: ["Yangi darsliklar yaratish", "Yoshlarni zamonaviy bilimlar bilan qurollantirish", "Maktablarni ta‚Äômirlash", "O‚Äòqituvchilarni attestatsiyadan o‚Äòtkazish"], correct: 1 },
  { question: "Mustaqillikdan keyingi yillarda nechanchi bosqichli ta‚Äôlim tizimi joriy etilgan?", answers: ["2 bosqichli", "3 bosqichli", "4 bosqichli", "5 bosqichli"], correct: 1 },
  { question: "Ta‚Äôlim tizimining birinchi bosqichi qaysi?", answers: ["Oliy ta‚Äôlim", "Umumiy o‚Äòrta ta‚Äôlim", "Kollej", "Litsey"], correct: 1 },
  { question: "Akademik litsey va kasb-hunar kollejlari qachon tashkil etilgan?", answers: ["1995‚Äì1997 yillar", "1998‚Äì2001 yillar", "2002‚Äì2005 yillar", "1993‚Äì1994 yillar"], correct: 1 },
  { question: "Ta‚Äôlim tizimidagi islohotlar kim rahbarligida amalga oshirilgan?", answers: ["Islom Karimov", "Shavkat Mirziyoyev", "Abdulla Oripov", "Oliy Majlis"], correct: 0 },
  { question: "O‚Äòzbekiston Respublikasi Konstitutsiyasida ta‚Äôlimga oid qaysi modda mavjud?", answers: ["41-modda", "20-modda", "10-modda", "15-modda"], correct: 0 },
  { question: "41-modda nimani kafolatlaydi?", answers: ["Har bir fuqaroning ta‚Äôlim olish huquqini", "Faqat maktabgacha ta‚Äôlimni", "Xususiy ta‚Äôlimni", "Faqat oliy ta‚Äôlimni"], correct: 0 },
  { question: "Mustaqillikdan so‚Äòng ta‚Äôlim tizimi qanday yo‚Äònalishga o‚Äòtgan?", answers: ["Davlat markazlashtirilgan tizim", "Bozor iqtisodiyoti talablariga mos tizim", "Sovet tizimi", "Harbiy tizim"], correct: 1 },
  { question: "Ta‚Äôlim sohasida xalqaro hamkorlik qachon kengaydi?", answers: ["1990-yillar o‚Äòrtalarida", "2000-yillar boshida", "1980-yillarda", "2010-yillarda"], correct: 0 },
  { question: "Kadrlar tayyorlash milliy dasturi nechta bosqichdan iborat?", answers: ["2", "3", "4", "5"], correct: 1 },
  { question: "Ta‚Äôlim tizimida 9 yillik majburiy ta‚Äôlim o‚Äòrniga nima joriy etilgan?", answers: ["11 yillik majburiy ta‚Äôlim", "12 yillik tizim", "9+3 tizimi", "Bozor tizimi"], correct: 2 },
  { question: "Kasb-hunar kollejlari ochilishidan maqsad nima edi?", answers: ["Ishsizlarni kamaytirish", "Yoshlarni kasbga o‚Äòrgatish", "Sportni rivojlantirish", "Madaniyatni oshirish"], correct: 1 },
  { question: "Akademik litseylarning asosiy vazifasi nima edi?", answers: ["Oliy ta‚Äôlimga tayyorlash", "Kasb berish", "Ish bilan ta‚Äôminlash", "Tadbirlar o‚Äòtkazish"], correct: 0 },
  { question: "Mustaqillikning dastlabki yillarida yangi fanlar qaysilar edi?", answers: ["Odobnoma va Huquqshunoslik", "Geometriya va Fizika", "Tibbiyot", "Sotsiologiya"], correct: 0 },
  { question: "Diniy ta‚Äôlim muassasalari faoliyati qachon tiklangan?", answers: ["1989", "1991", "1993", "1995"], correct: 1 },
  { question: "Yangi o‚Äòquv darsliklari qachon yaratilgan?", answers: ["1991‚Äì1995 yillar", "1997‚Äì2000 yillar", "2001‚Äì2005 yillar", "1990-yillar oxiri"], correct: 0 },
  { question: "Mustaqillikning ilk yillarida o‚Äòqituvchilar maqomi qanday o‚Äòzgardi?", answers: ["Yaxshilandi", "Pasaydi", "O‚Äòzgarmadi", "Yo‚Äòqoldi"], correct: 0 },
  { question: "Ta‚Äôlim tizimida qanday yangi turlar paydo bo‚Äòldi?", answers: ["Xususiy maktablar", "Harbiy litseylar", "Xalqaro maktablar", "Barchasi"], correct: 3 },
  { question: "Birinchi Prezident ta‚Äôlimga qanday e‚Äôtibor bergan?", answers: ["Ustuvor soha sifatida belgilagan", "Ikkinchi darajali soha deb bilgan", "E‚Äôtibor bermagan", "Cheklagan"], correct: 0 },
  { question: "Ta‚Äôlimdagi islohotlar natijasida qanday tizim joriy etilgan?", answers: ["Uzluksiz ta‚Äôlim tizimi", "Sovet tizimi", "Harbiy tizim", "Hududiy tizim"], correct: 0 },
  { question: "‚ÄúUzluksiz ta‚Äôlim tizimi‚Äù deganda nima tushuniladi?", answers: ["Maktabdan boshlab oliy ta‚Äôlimgacha izchil ta‚Äôlim", "Faqat maktab ta‚Äôlimi", "Masofaviy o‚Äòqish", "Xalq ta‚Äôlimi"], correct: 0 },
  { question: "Ta‚Äôlimdagi islohotlar nechta yo‚Äònalishda olib borilgan?", answers: ["3", "4", "5", "6"], correct: 2 },
  { question: "Ta‚Äôlim tizimida axborot texnologiyalari qachon joriy etila boshlandi?", answers: ["1990-yillar oxiri", "2000-yillar boshida", "1995", "1985"], correct: 0 },
  { question: "2000-yillarga kelib qaysi o‚Äòquv tizimi shakllandi?", answers: ["9+3 tizimi", "12 yillik tizim", "8 yillik tizim", "6 yillik tizim"], correct: 0 },
  { question: "Ta‚Äôlim sifatini nazorat qilish uchun qanday organ tashkil etilgan?", answers: ["Davlat test markazi", "Xalq ta‚Äôlimi vazirligi", "Oliy Majlis", "Monitoring markazi"], correct: 0 },
  { question: "Davlat test markazi qachon tashkil etilgan?", answers: ["1991", "1992", "1993", "1994"], correct: 2 },
  { question: "DTMning asosiy vazifasi nima?", answers: ["Abituriyentlarni ro‚Äòyxatga olish", "Test sinovlarini o‚Äòtkazish", "Maktablarni tekshirish", "Ta‚Äôlimni boshqarish"], correct: 1 },
  { question: "Ta‚Äôlim tizimida yangi baholash tizimi qachon joriy etildi?", answers: ["1997", "2000", "2005", "2010"], correct: 1 },
  { question: "Mustaqillikdan keyin qaysi xorijiy tillarni o‚Äòqitish kuchaytirildi?", answers: ["Rus tili", "Ingliz tili", "Arab tili", "Fransuz tili"], correct: 1 },
  { question: "Oliy o‚Äòquv yurtlariga kirish qanday tizim asosida amalga oshirila boshlandi?", answers: ["Test tizimi", "Suhbat", "Tanlov", "Ball tizimi"], correct: 0 },
  { question: "1990-yillar o‚Äòrtalarida nechta oliy o‚Äòquv yurtlari faoliyat yuritgan?", answers: ["50 dan ortiq", "100 dan ortiq", "70 dan ortiq", "30 dan kam"], correct: 1 },
  { question: "Xususiy ta‚Äôlim muassasalari faoliyatiga ruxsat berildimi?", answers: ["Ha", "Yo‚Äòq", "Faqat maktablarda", "Cheklangan"], correct: 0 },
  { question: "‚ÄúYoshlar siyosati‚Äù ta‚Äôlim bilan qanday bog‚Äòliq edi?", answers: ["Kadrlar tayyorlashga yo‚Äònaltirilgan", "Sportni rivojlantirgan", "Faoliyatni kamaytirgan", "Alakasiz"], correct: 0 },
  { question: "Mustaqillikdan keyin ta‚Äôlimda qanday yo‚Äònalish ustuvor bo‚Äòldi?", answers: ["Milliy qadriyatlarga asoslangan ta‚Äôlim", "Xorijiy tizimni ko‚Äòchirish", "Sovet dasturi", "Eksperimental ta‚Äôlim"], correct: 0 },
  { question: "Ta‚Äôlimdagi islohotlarning natijasi sifatida nima paydo bo‚Äòldi?", answers: ["Yangi avlod mutaxassislari", "Ishsizlik", "Tizim inqirozi", "Fanlar qisqarishi"], correct: 0 },
  { question: "Mustaqillikdan so‚Äòng qaysi fanlar qayta kiritilgan?", answers: ["Tarix va Din tarixi", "Fizika", "Geometriya", "Kimyo"], correct: 0 },
  { question: "Ta‚Äôlim sohasidagi dastlabki yirik hujjat qaysi edi?", answers: ["Kadrlar tayyorlash milliy dasturi", "1992-yilgi farmon", "Konstitutsiya", "Maktab to‚Äòg‚Äòrisidagi nizom"], correct: 0 },
  { question: "Ta‚Äôlim tizimida milliy o‚Äòzlikni anglash qanday ifodalangan?", answers: ["Darsliklar mazmunida", "Sport tadbirlarida", "Televideniyeda", "Tashkiliy yig‚Äòilishlarda"], correct: 0 },
  { question: "O‚Äòqituvchilarning malakasini oshirish tizimi qachon joriy etilgan?", answers: ["1997-yilda", "2000-yilda", "2003-yilda", "1995-yilda"], correct: 0 },
  { question: "Mustaqillikdan keyingi ta‚Äôlim siyosati nimalarga asoslangan?", answers: ["Milliy qadriyat va zamonaviy talablar uyg‚Äòunligi", "Sovet tajribasi", "Chetdan ko‚Äòchirish", "Qisqartirish"], correct: 0 },
  { question: "Kadrlar tayyorlash milliy dasturi nechta bosqichda amalga oshirilgan?", answers: ["3 bosqichda", "4 bosqichda", "5 bosqichda", "2 bosqichda"], correct: 0 },
  { question: "O‚Äòzbekiston ta‚Äôlim tizimida informatika fani qachon joriy etilgan?", answers: ["1990-yillar", "1985-yillar", "2000-yillar", "1999-yillar"], correct: 0 },
  { question: "Mustaqillik yillarida ta‚Äôlimda qanday shior ilgari surilgan?", answers: ["Kelajak yoshlar qo‚Äòlida", "Ta‚Äôlim ‚Äî yurt kelajagi", "Bilim ‚Äî kuch", "Fan ‚Äî taraqqiyot kaliti"], correct: 1 },
  { question: "O‚Äòzbekistonning ta‚Äôlim tizimi qaysi g‚Äòoyaga asoslangan?", answers: ["Inson manfaatlari ustuvorligi", "Iqtisodiy foyda", "Raqobatbardoshlik", "Ma‚Äômuriy boshqaruv"], correct: 0 },
  { question: "Mustaqillikning ilk yillarida xalqaro ta‚Äôlim loyihalari qanday rol o‚Äòynagan?", answers: ["Yordamchi rol", "Yetakchi rol", "E‚Äôtiborsiz", "Ta‚Äôqiqlangan"], correct: 0 }
];


// ------------------------
// 50 ta Ingliz savol (namuna, siz o'zingizning 50 ta savolni shu tarzda qo'shasiz)
// ------------------------
const questionsEN = [
  { question: "What was the most important task in the education system during the early years of independence?", answers: ["Creating new programs", "Reforming education", "Reducing teachers", "Closing private schools"], correct: 1 },
  { question: "On what document were education reforms based?", answers: ["Constitution", "Law on Education", "National Program", "Decree"], correct: 2 },
  { question: "When was the National Program for Personnel Training adopted?", answers: ["1995", "1997", "1998", "2000"], correct: 1 },
  { question: "When was the 'Law on Education' adopted?", answers: ["1992", "1994", "1997", "1999"], correct: 2 },
  { question: "What was the goal of the National Program for Personnel Training?", answers: ["Creating new textbooks", "Equipping youth with modern knowledge", "Repairing schools", "Teacher certification"], correct: 1 },
  { question: "How many levels were introduced into the education system after independence?", answers: ["2-level", "3-level", "4-level", "5-level"], correct: 1 },
  { question: "Which is the first stage of the education system?", answers: ["Higher education", "General secondary education", "College", "Lyceum"], correct: 1 },
  { question: "When were academic lyceums and vocational colleges established?", answers: ["1995‚Äì1997", "1998‚Äì2001", "2002‚Äì2005", "1993‚Äì1994"], correct: 1 },
  { question: "Under whose leadership were education reforms carried out?", answers: ["Islam Karimov", "Shavkat Mirziyoyev", "Abdulla Oripov", "Oliy Majlis"], correct: 0 },
  { question: "Which article of the Constitution of Uzbekistan is related to education?", answers: ["Article 41", "Article 20", "Article 10", "Article 15"], correct: 0 },
  { question: "What does Article 41 guarantee?", answers: ["The right of every citizen to education", "Only preschool education", "Private education", "Only higher education"], correct: 0 },
  { question: "What direction did the education system take after independence?", answers: ["Centralized system", "Market-oriented system", "Soviet system", "Military system"], correct: 1 },
  { question: "When did international cooperation in education expand?", answers: ["Mid-1990s", "Early 2000s", "1980s", "2010s"], correct: 0 },
  { question: "How many stages does the National Program for Personnel Training have?", answers: ["2", "3", "4", "5"], correct: 1 },
  { question: "What replaced the 9-year compulsory education system?", answers: ["11-year compulsory education", "12-year system", "9+3 system", "Market system"], correct: 2 },
  { question: "What was the main goal of opening vocational colleges?", answers: ["Reduce unemployment", "Teach youth professional skills", "Develop sports", "Promote culture"], correct: 1 },
  { question: "What was the main purpose of academic lyceums?", answers: ["Prepare for higher education", "Provide professions", "Employment", "Organize events"], correct: 0 },
  { question: "Which new subjects appeared in the early years of independence?", answers: ["Ethics and Law Studies", "Geometry and Physics", "Medicine", "Sociology"], correct: 0 },
  { question: "When was the activity of religious education institutions restored?", answers: ["1989", "1991", "1993", "1995"], correct: 1 },
  { question: "When were new textbooks created?", answers: ["1991‚Äì1995", "1997‚Äì2000", "2001‚Äì2005", "Late 1990s"], correct: 0 },
  { question: "How did the status of teachers change in the early years of independence?", answers: ["Improved", "Decreased", "Unchanged", "Disappeared"], correct: 0 },
  { question: "What new types of education appeared?", answers: ["Private schools", "Military lyceums", "International schools", "All of them"], correct: 3 },
  { question: "How did the first President prioritize education?", answers: ["As a top priority", "As a secondary sector", "Ignored it", "Restricted it"], correct: 0 },
  { question: "What system was introduced as a result of educational reforms?", answers: ["Continuous education system", "Soviet system", "Military system", "Regional system"], correct: 0 },
  { question: "What does 'Continuous Education System' mean?", answers: ["Education from school to university", "Only school education", "Distance learning", "Public education"], correct: 0 },
  { question: "In how many directions were education reforms carried out?", answers: ["3", "4", "5", "6"], correct: 2 },
  { question: "When were information technologies introduced into the education system?", answers: ["Late 1990s", "Early 2000s", "1995", "1985"], correct: 0 },
  { question: "Which education model was formed by the 2000s?", answers: ["9+3 system", "12-year system", "8-year system", "6-year system"], correct: 0 },
  { question: "Which body was established to monitor the quality of education?", answers: ["State Testing Center", "Ministry of Public Education", "Oliy Majlis", "Monitoring Center"], correct: 0 },
  { question: "When was the State Testing Center established?", answers: ["1991", "1992", "1993", "1994"], correct: 2 },
  { question: "What is the main function of the State Testing Center?", answers: ["Register applicants", "Conduct test exams", "Inspect schools", "Manage education"], correct: 1 },
  { question: "When was the new grading system introduced in education?", answers: ["1997", "2000", "2005", "2010"], correct: 1 },
  { question: "Which foreign languages began to be taught more actively after independence?", answers: ["Russian", "English", "Arabic", "French"], correct: 1 },
  { question: "Based on what system did university admissions begin?", answers: ["Test system", "Interview", "Selection", "Point system"], correct: 0 },
  { question: "How many higher education institutions operated in the mid-1990s?", answers: ["More than 50", "More than 100", "More than 70", "Less than 30"], correct: 1 },
  { question: "Were private educational institutions allowed to operate?", answers: ["Yes", "No", "Only in schools", "Limited"], correct: 0 },
  { question: "How was 'Youth Policy' related to education?", answers: ["Aimed at training personnel", "Developed sports", "Reduced activity", "Unrelated"], correct: 0 },
  { question: "Which direction became a priority in education after independence?", answers: ["Education based on national values", "Copying foreign systems", "Soviet program", "Experimental education"], correct: 0 },
  { question: "What emerged as a result of educational reforms?", answers: ["A new generation of specialists", "Unemployment", "System crisis", "Reduction of subjects"], correct: 0 },
  { question: "Which subjects were reintroduced after independence?", answers: ["History and History of Religion", "Physics", "Geometry", "Chemistry"], correct: 0 },
  { question: "What was the first major document in the field of education?", answers: ["National Program for Personnel Training", "1992 Decree", "Constitution", "School Charter"], correct: 0 },
  { question: "How was national identity reflected in the education system?", answers: ["In the content of textbooks", "In sports events", "On television", "In meetings"], correct: 0 },
  { question: "When was the system for improving teachers‚Äô qualifications introduced?", answers: ["In 1997", "In 2000", "In 2003", "In 1995"], correct: 0 },
  { question: "What was the education policy after independence based on?", answers: ["Harmony of national values and modern demands", "Soviet experience", "Foreign imitation", "Reduction"], correct: 0 },
  { question: "In how many stages was the National Program for Personnel Training implemented?", answers: ["In 3 stages", "In 4 stages", "In 5 stages", "In 2 stages"], correct: 0 },
  { question: "When was computer science introduced into Uzbekistan‚Äôs education system?", answers: ["1990s", "1985s", "2000s", "1999s"], correct: 0 },
  { question: "What was the slogan promoted in education during the years of independence?", answers: ["The future is in the hands of youth", "Education ‚Äî the future of the nation", "Knowledge is power", "Science is the key to progress"], correct: 1 },
  { question: "On what idea is Uzbekistan‚Äôs education system based?", answers: ["Priority of human interests", "Economic benefit", "Competitiveness", "Administrative control"], correct: 0 },
  { question: "What role did international educational projects play in the early years of independence?", answers: ["Supportive role", "Leading role", "Ignored", "Prohibited"], correct: 0 }
];


// ------------------------
// 2. Rasmlar
// ------------------------
const images = [
  "history.img/independence.jfif",
  "history.img/independence2.jfif",
  "history.img/independence3.jfif",
  "history.img/independence4.jfif",
  "history.img/independence5.jfif",
  "history.img/IslomKarimov.jfif",
  "history.img/ShavkatMirziyoyev.jfif"
];

// ------------------------
// 3. Tilni tanlash
// ------------------------
let currentLang = localStorage.getItem("lang") || "uz";
const langSelect = document.getElementById("languageSelect");
langSelect.value = currentLang;
langSelect.addEventListener("change", e => {
  localStorage.setItem("lang", e.target.value);
  location.reload();
});

function getQuestionsByLang(lang) {
  if (lang === "en") return [...questionsEN];
  return [...questionsUZ];
}
let allQuestions = getQuestionsByLang(currentLang);

// Rasmlarni qo‚Äòshish
allQuestions.forEach((q, i) => q.img = images[i % images.length]);

// ------------------------
// 4. Test logikasi
// ------------------------
const questions = [...allQuestions].sort(() => 0.5 - Math.random()).slice(0,15);
let current = 0, correctAnswers = 0;
const wrongQuestions = [];
const container = document.getElementById("quiz-container");
let timer;
let timeLeft = 15;

function shuffle(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}

// ------------------------
// 5. Savolni ko'rsatish
// ------------------------
function showQuestion() {
  const q = questions[current];
  const answersShuffled = q.answers.map((a, i) => ({ text: a, index: i }));
  shuffle(answersShuffled);
  q.shuffledAnswers = answersShuffled;
  q.correctShuffledIndex = answersShuffled.findIndex(a => a.index === q.correct);

  timeLeft = 20;
  clearInterval(timer);

  // HTML tuzilmasini oldin yaratamiz
  container.innerHTML = `
    <section>
      ${q.img ? `<img src="${q.img}" alt="rasm">` : ""}
      <h1>${q.question}</h1>
      <div class="answers">
        ${answersShuffled.map((a, i) => `<button onclick="checkAnswer(${i}, this)">${a.text}</button>`).join("")}
      </div>
      <p>Savol ${current + 1}/${questions.length}</p>
      <p id="timer" style="font-weight: bold;">‚è±Ô∏è Qolgan vaqt: 20s</p>
    </section>
  `;

  const timerP = document.getElementById("timer");

  // Timer boshlanishi
  timer = setInterval(() => {
    timeLeft--;

    // Rangni o'zgartirish
    if (timeLeft <= 5) {
      timerP.style.color = "red";
    } else {
      timerP.style.color = "white";
    }

    timerP.textContent = `‚è±Ô∏è Qolgan vaqt: ${timeLeft}s`;

    if (timeLeft <= 0) {
      clearInterval(timer);
      checkAnswer(-1); // vaqt tugadi
    }
  }, 1000);
}

// ------------------------
// 6. Javobni tekshirish
// ------------------------
function checkAnswer(selected, btn = null) {
  const q = questions[current];
  const buttons = document.querySelectorAll(".answers button");

  buttons.forEach((b, i) => {
    b.disabled = true;
    if (i === q.correctShuffledIndex) b.style.backgroundColor = "limegreen";
    else if (i === selected) b.style.backgroundColor = "crimson";
  });

  if (selected === q.correctShuffledIndex) correctAnswers++;
  else wrongQuestions.push({ question: q.question, correct: q.answers[q.correct] });

  clearInterval(timer);
  setTimeout(() => {
    current++;
    if (current < questions.length) showQuestion();
    else showResult();
  }, 1000);
}

// ------------------------
// 7. Natijani ko'rsatish
// ------------------------
function showResult() {
  const percent = Math.round((correctAnswers / questions.length) * 100);
  const text =
    percent === 100
      ? "üî• Ajoyib! Barchasi to‚Äòg‚Äòri!"
      : percent >= 60
      ? "üëç Yaxshi natija!"
      : "Yana harakat qilib ko‚Äòring!";

  const wrongHTML = wrongQuestions.length
    ? `
    <h2 class="mt-4">‚ùå Noto‚Äòg‚Äòri javoblar:</h2>
    <ul class="text-left mt-2">
      ${wrongQuestions
        .map((w) => `<li>${w.question} ‚Äî ‚úÖ ${w.correct}</li>`)
        .join("")}
    </ul>`
    : "";

  container.innerHTML = `
    <section>
      <h1>Test yakunlandi!</h1>
      <p>Siz ${percent}% to‚Äòg‚Äòri topdingiz.</p>
      <p class="mt-4">${text}</p>
      ${wrongHTML}
      <button onclick="restartQuiz()" class="mt-6 bg-white text-blue-700 px-4 py-2 rounded-md font-bold hover:bg-gray-200">Qayta boshlash</button>
    </section>
  `;
}

// ------------------------
// 8. Qayta boshlash
// ------------------------
function restartQuiz() {
  current = 0;
  correctAnswers = 0;
  wrongQuestions.length = 0;
  showQuestion();
}

// ------------------------
// 9. Testni boshlash
// ------------------------
showQuestion();


  </script>
</body>
</html>
